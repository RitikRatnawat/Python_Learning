{% extends 'reports/base.html' %}

{% block content %}

<div class="container mt-5">
    <h2>Students</h2>
    <hr>
    <div class="mx-auto my-5 col-10">
        <form>
            <div class="row g-3">
                <div class="col-3">
                    <label for="search_key" class="col-form-label fw-bold">Search using Student Name</label>
                </div>
                <div class="col-6">
                    <input type="search" class="form-control" id="search_key" name="search_key">
                </div>
                <div class="col-1">
                    <button type="submit" class="btn btn-primary">Search</button>
                </div>
            </div>
        </form>
    </div>
    <nav>
      <ul class="pagination justify-content-center">
        <li class="page-item">
        {% if students.has_previous %}
          <a class="page-link" href="?page={{ students.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        {% endif %}
        </li>
        {% for i in num_pages %}
            <li class="page-item"><a class="page-link" href="?page={{forloop.counter}}">{{forloop.counter}}</a></li>
        {% endfor %}
        <li class="page-item">
        {% if students.has_next %}
          <a class="page-link" href="?page={{ students.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        {% endif %}
        </li>
      </ul>
    </nav>
    <table class="table">
      <thead>
        <tr>
          <th scope="col" class="text-center">#</th>
          <th scope="col" class="text-center">ID</th>
          <th scope="col" class="text-center">Name</th>
          <th scope="col" class="text-center">Email</th>
          <th scope="col" class="text-center">Age</th>
          <th scope="col" class="text-center">Department</th>
          <th scope="col" class="text-center">Address</th>
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
        <tr>
          <th class="text-center">{{forloop.counter}}</th>
          <td class="text-center">
              <a href="{% url 'student_marks' student.student_id %}">{{student.student_id}}</a>
          </td>
          <td class="text-center">{{student.student_name}}</td>
          <td class="text-center">{{student.student_email}}</td>
          <td class="text-center">{{student.student_age}}</td>
          <td class="text-center">{{student.department}}</td>
          <td class="text-center">{{student.student_address}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</div>
{% endblock content %}